@using ZeroKWeb;
<!DOCTYPE html>
<html>
<head>
  <meta name="description" content="Zero-K or zero k is a FREE, multiplatform, open-source RTS game, which aims to be a dynamic, action-packed, hassle-free game, full of clever strategies and constantly moving combat which usually lasts on average 20-30 minutes." />
  <meta name="keywords" content="Zero K, zero-k, game, rts, Real Time Strategy, awesome, robot, mech, online, space, 4x, free, open source" />
  <meta http-equiv="Expires" content="0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Cache-Control" content="no-cache">
  @if (!string.IsNullOrEmpty(Page.Title)) {
    <title>@Page.Title - Zero-K free rts open source game</title>
  } else { 
    <title>Zero-K free rts open source game</title>
  }
  <link rel="icon" href='@Href("~/img/favicon.png")'/>
  <link rel="Stylesheet" href='@Href("~/Styles/style.css")' type="text/css" />
  <script type="text/javascript" src='@Href("~/Scripts/MicrosoftAjax.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/MicrosoftMvcAjax.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/jquery-1.5.2.min.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/jquery-ui-1.8.6.custom.min.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/nicetitle.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/jquery.ui.stars.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/site.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/base.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/browser-css.js")' ></script>
  <script type="text/javascript" src='@Href("~/Scripts/jquery.tablesorter.min.js")' ></script>
  <style type="text/css">
    @@import url(http://www.google.com/cse/api/branding.css);
</style>
  @if (!Global.IsLobbyAccess && ViewBag.Minimal != true && Request["minimalDesign"] != "1") {
    if (ViewBag.StaticBackground == true) {
    <style type="text/css">
      html
      {
        background: #000 url("/img/bg_bluehex.gif") scroll 50% 0;
        background-attachment: fixed;
      }
    </style>
    } else {
      var files = Directory.GetFiles(Server.MapPath("~/img/screenshots"));
@* What we're doing here is generating a number unique to each date *@
@* We use this to seed the RNG so that it picks a new background once per day *@
      int date = Convert.ToInt32(DateTime.Now.ToString("MMddyyyy"));
      var random = new Random(date);
      var file = Path.GetFileName(files[random.Next(files.Length)]);
    <style type="text/css"> html { background: #000 url("/img/screenshots/@file") no-repeat scroll 50% 0; background-attachment: fixed; }</style>
    }
  }
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-20510497-1']);
    _gaq.push(['_trackPageview']);

    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>
<body class="">
  <span style="display: none; position: fixed; left: 300px; top: 200px; z-index: 10;
    width: 300px; height: 50px; background-color: Black; border: 1px solid Red; font-size: x-large;
    text-align: center; vertical-align: middle;" id='ajaxScrollProgress'>Loading....<img
      src='/img/Loader.gif' /></span>
  @if (!Global.IsLobbyAccess && ViewBag.Minimal == null && Request["minimalDesign"] != "1") {
    <div class="wrapper">
      <div id="header" class="text-center">
        <a href="/">
          <img src="/img/zk_logo.png" height="150px" alt="Zero K" /></a>
      </div>
      <!close header>
      @Html.Partial("TopMenu")
      <!close navigation>
      <div class="border">
        @Html.Partial("LoginBar")
      </div>
      <!close login>
      <div class="border"@if (ViewBag.OpaqueBody == true){<text> style="opacity: 1"</text>}>
        @RenderBody()
      </div>
      <div id="footer" class="border">
        <span class="center cdark">Zero-K is a free real time strategy (RTS), that aims to
          be the best open source multi-platform strategy game available :-) </span>
      </div>
      <!close footer>
    </div>
    
    <!close wrapper>
  } else {
    <div style="margin: 10px;">
      @if (!Global.IsLobbyAccess) {
        Html.RenderPartial("TopMenu");
        <div class="border">
          @Html.Partial("LoginBar")
        </div>
      }
      @RenderBody()
    </div>
  }
</body>
</html>
